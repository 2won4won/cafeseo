<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.css" />
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
<script type="text/javascript" src="https://unpkg.com/swiper/swiper-bundle.js"></script>
<script type="text/javascript" src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>

<style>
  .modal {
    display: none;  width: 100vw; height: 100vh;  z-index: 1;
    position: fixed;left: 0; top: 0; background-color: rgba(0, 0, 0, 0.6); }

  .close {color: #aaaaaa; float: right; font-size: 28px; font-weight: bold; }
 
  .close:hover,
  .close:focus {
    color: #000; text-decoration: none; cursor: pointer; 
  }

  /* .modal .img { width: 100vw;  height: 45vh; object-fit: cover; position: relative; } */
  .modal .img::before {
    width: 100%; height: 100%; 
    content: "";
    position: absolute; top: 0; left: 0;
    opacity: 0.4; background-color: #000; 
  }
  .list { width: 75vw; height: 92vh; text-align: center; }
  .menu { 
    background-color: #FF3CAC;
background-image: linear-gradient(270deg, #FF3CAC 0%, #784BA0 50%, #2B86C5 100%);

  color:white ;  
  width: inherit; height: 30vh; padding:20px; box-sizing: border-box;}
  .disBet { display: flex; justify-content: space-between;}
  .disBetCol {display: flex; justify-content: space-between ; flex-direction: column;}
  .disCenw { display: flex; align-items: center; justify-content: center;}
  .list .ti { font-size: 25px; margin-bottom: 20px; }
  .list .content { font-size: 22px;  }
  .list .choice { font-size: 18px; font-weight: 100 !important; }
  .list .pr { font-size: 25px; }
  .list .sl { font-size: 25px; font-family: 'EF_Diary';}
  .list .content div { margin-bottom: 20px ;}
  .list .content div:nth-child(3) { margin-bottom: 10px !important;}
  .list .ti, 
  .list .sl { line-height: 40px;}
  .list .choice { line-height: 28px;}
</style>
</head>

<!-- The Modal -->
<div id="myModal" class="modal">
  <span class="close">&times;</span>
  <div class="swiBox">
    <div class="list paCen font disBetCol" data-type="Cafe SEO' 한끼"> 
      <div class="menu disBet">
        <div class="ti ko disCenw">NO.1 <br> 고기파</div>
        <div class="content"> 
          <div class=" "> 훈제삼겹살 </div>
          <div class=" "> 크로와상 </div>
          <div class=" "> 하겐다즈 아이스크림 택 1 </div>
          <div class="choice "> 오레오 <br> 마카다미아 넛</div>
          <div class=" "> 시즌과일 </div>
          <div class="pr"> 19.0 </div>
        </div>
        <div class="sl disCenw"> 인생이<br> 다 <br> 고기서 <br>고기지 <br>^^ </div>
      </div>
      <div class="menu disBet">
        <div class="ti ko disCenw">NO.2 <br> 비건파</div>
        <div class="content"> 
          <div class=" "> 가지•호박•버섯•치즈 </div>
          <div class=" "> 통곡물식빵 </div>
          <div class=" "> 하겐다즈 아이스크림 택 1 </div>
          <div class="choice "> 오레오 <br> 마카다미아 넛</div>
          <div class=" "> 시즌과일 </div>
          <div class="pr"> 19.0 </div>
        </div>
        <div class="sl disCenw">콩 심은데 <br> 콩 나고,<br>
                       가지, 호박 <br> 심은데 <br> 비건<br> 난다.
        </div>
      </div>
      <div class="menu disBet">
        <div class="ti ko disCenw">NO.3 <br> 식단파</div>
        <div class="content">
          <div class=" "> 훈제닭갈비 <span class="choice "> 250kcal</span></div>
          <div class=" "> 고구마 <span class="choice "> 100kcal</span></div>
          <div class=" "> 곤약샐러드 <span class="choice "> 10kcal</span></div>
          <div class=" "> 그릭요거트 <span class="choice "> 15kcal</span></div>
          <div class=" "> 시즌과일 <span class="choice "> 40kcal</span> </div>
          <div class="pr"> 19.0 </div>
        </div>
        <div class="sl disCenw"> 토닭토닭.<br> 괜찮아 <br>먹어도 </div>
      </div>
    </div>
    <div class="swiper ">
      <div class="swiper-wrapper ">
        <!-- Slides -->
        <div class="swiper-slide img sandM01" data-type="NO.1 고기파"> </div>
        <div class="swiper-slide img sandM02" data-type="NO.1 고기파"> </div>
        <div class="swiper-slide  img sandM03" data-type="NO.1 고기파"> </div>
        <div class="swiper-slide  img sandM04" data-type="NO.1 고기파"> </div>
        <div class="swiper-slide img sandV01" data-type="NO.2 비건파"> </div>
        <div class="swiper-slide  img sandV02" data-type="NO.2 비건파"> </div>
        <div class="swiper-slide  img sandV03" data-type="NO.2 비건파"> </div>
        <div class="swiper-slide  img sandV04" data-type="NO.2 비건파"> </div>
        <div class="swiper-slide  img sandV06" data-type="NO.2 비건파"> </div>
        <div class="swiper-slide  img sandD01" data-type="NO.3 식단파 "> </div>
        <div class="swiper-slide img sandD02" data-type="NO.3 식단파 "> </div>
        <div class="swiper-slide  img sandD03" data-type="NO.3 식단파 "> </div>
        <div class="swiper-slide  img sandD04" data-type="NO.3 식단파 "> </div>
      </div>
    </div>
    <!-- pagination -->
    <div class="swiper-pagination"></div>
  </div>
</div>

<script>
  // Get the modal
  // var modal = document.getElementsByClassName("modal");
  var cloneSlide = $('.modal .list').html();
  var arraySlide = [];
  var modal = document.getElementById("myModal");
  var btn = document.querySelectorAll(".box");

  
  btn.forEach((el, index) => {
    el.onclick = () => {
      modal.style.display = "block";
    }
  });

  
  // box click 시 swiper modal
  $('.box').click(function () {
    
    $('.modal .swiper-slide ').each(function (i, e) {
      arraySlide.push(e);
      console.log(arraySlide);
    })
    const type = $(this).children('div').children('.ti').text();
    console.log("type:" +type);
    
    $('.box').removeClass('active');
    $(this).addClass('active');
    $('.modal .swiper-wrapper').empty();
    
    if (type === "Cafe SEO' 한끼") {
      $('.modal .list').append(cloneSlide);
      // $('.modal .swiper-wrapper').append(cloneSlide);
      // console.log("cloneSlide:" + cloneSlide);
      // alert(1);
      
    } else {
      $(arraySlide).each(function (i, e) {
        const exist = $(e).attr('data-type').indexOf(type);
        if (exist >= 0) {
          $('.modal .swiper-wrapper').append(e);
          $('.list').hide();
          $('.box').css("-webkit-filter", "blur(25px)");
          console.log("exist:"+exist);
        }
      });
    }
    /* modal swiper*/
    var swiperM = new Swiper('.modal .swiper', {
      slidesPerView: "auto",
      spaceBetween: 35,
      loop: true,
      loopAdditionalSlides: 1,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      autoplay: {
        //시간 1000 이 1초
        delay: 2500,
        disableOnInteraction: false,
      },
    })
    
    swiperM.update();
    swiperM.slideTo(0);
  });

 
  // close modal
  $('.close').click(function () {
    $('.modal').css('display', 'none');
    $('.box').css("-webkit-filter", "none");
  });
  $('.modal').click(function () {
    $('.modal').css('display', 'none');
    $('.box').css("-webkit-filter", "none");
  });

</script>

</body>

</html>